---
title: Creando un Proyecto BÃ¡sico de Ruby con Bundler
---
import BoxedTabs from '@site/src/components/cajitas/BoxedTabs'
import TabItem from '@theme/TabItem'
import Explanation from '@site/src/components/admonitions/Explanation'

## ğŸ’ Paso -1: Instalar Ruby

**Ruby** es un lenguaje de programaciÃ³n dinÃ¡mico, elegante y muy expresivo. En esta unidad lo utilizaremos junto con herramientas del ecosistema Ruby, como [Rake](https://ruby.github.io/rake/), para explorar cÃ³mo construir, organizar y automatizar tareas en proyectos de software, al igual que hicimos con Gradle.

A continuaciÃ³n, se presentan las instrucciones para instalar Ruby segÃºn tu sistema operativo:

<BoxedTabs groupId={"os"}>
    <TabItem value="Windows" label="Windows">
        ```powershell
        scoop install ruby
        ```
    </TabItem>
    <TabItem value="macOS" label="macOS">
        ```bash
        brew install ruby
        ```
    </TabItem>
    <TabItem value="Linux" label="Linux (Debian/Ubuntu)">
        ```bash
        sudo apt update && \
            sudo apt upgrade && \
            sudo apt install ruby-full
        ```
    </TabItem>
</BoxedTabs>

### âœ… VerificaciÃ³n de la instalaciÃ³n

Para comprobar que Ruby se instalÃ³ correctamente, ejecuta en tu terminal:

```bash
ruby --version
```

DeberÃ­as ver una salida similar a:

```plaintext
ruby 3.4.2 (2025-02-15 revision d2930f8e7a) +PRISM [x64-mingw-ucrt]
```

Esto indica que Ruby estÃ¡ instalado y disponible en tu entorno.

TambiÃ©n puedes verificar que el gestor de paquetes de Ruby estÃ¡ disponible:

```bash
gem --version
```

Si ambos comandos funcionan y muestran una versiÃ³n, Â¡todo estÃ¡ listo para continuar!

## ğŸ“¦ Paso 0: Instalar Bundler

**Bundler** es la herramienta oficial para gestionar dependencias en proyectos Ruby. Se encarga de instalar las gemas necesarias y mantenerlas sincronizadas con el archivo `Gemfile`.

Para instalar Bundler, ejecuta el siguiente comando en la terminal:

```bash
gem install bundler
```

<Explanation>
    - Este comando instala Bundler globalmente en tu sistema.
    - AsegÃºrate de tener acceso al comando `gem`, que viene con Ruby por defecto.
</Explanation>

Una vez instalado, puedes verificar la versiÃ³n con:

```bash
bundler --version
```

Esto deberÃ­a mostrar algo como:

```plaintext
Bundler version 2.6.7
```

## ğŸ§± Paso 1: Crear la gema con ejecutable

Para comenzar, vamos a crear una gema llamada `echo_app_ruby` que incluya un archivo ejecutable. Esto nos permitirÃ¡ estructurar el proyecto como una biblioteca reutilizable con una interfaz de lÃ­nea de comandos.

```bash
bundler gem echo_app_ruby --exe
```

<Explanation>
    Este comando genera la estructura base de una gema Ruby llamada `echo_app_ruby`.

    - `bundler gem` â†’ Comando principal para crear una nueva gema.
    - `echo_app_ruby` â†’ Nombre del proyecto/gema.
    - `--exe` â†’ Crea un archivo ejecutable en `exe/echo_app_ruby`, Ãºtil si planeas que tu gema se use como aplicaciÃ³n desde la terminal.
</Explanation>

## ğŸ§ª Paso 2: Elegir un framework de testing

Durante la creaciÃ³n de la gema, Bundler te preguntarÃ¡ si deseas generar pruebas junto con tu proyecto. Aunque no usaremos pruebas de inmediato, es una buena prÃ¡ctica elegir un framework para mantener la estructura preparada desde el inicio.

```plaintext
Do you want to generate tests with your gem?
Future `bundle gem` calls will use your choice. This setting can be changed anytime with `bundle config gem.test`.
Enter a test framework. rspec/minitest/test-unit/(none): rspec
```

:::tip Â¿Por quÃ© elegir `rspec`?

Elegimos `rspec` porque su estilo **BDD** (Behavior-Driven Development) y su sistema de **aserciones expresivas** (matchers) se alinean con los temas que abordaremos mÃ¡s adelante en la unidad de testing. Esto nos permitirÃ¡ escribir pruebas mÃ¡s legibles, naturales y enfocadas en el comportamiento esperado de nuestras bibliotecas.

:::

## ğŸ”„ Paso 3: Configurar integraciÃ³n continua (CI)

Durante la configuraciÃ³n inicial, Bundler ofrece la posibilidad de preparar archivos para **integraciÃ³n continua**, que permite ejecutar pruebas automÃ¡ticamente en cada cambio del proyecto.

```plaintext
Do you want to set up continuous integration for your gem? Supported services:
* CircleCI:       https://circleci.com/
* GitHub Actions: https://github.com/features/actions
* GitLab CI:      https://docs.gitlab.com/ee/ci/

Future `bundle gem` calls will use your choice. This setting can be changed anytime with `bundle config gem.ci`.
Enter a CI service. github/gitlab/circle/(none): github
```

:::tip Â¿Por quÃ© elegir GitHub Actions?

Si tu cÃ³digo estarÃ¡ alojado en GitHub, usar **GitHub Actions** es una opciÃ³n prÃ¡ctica y directa. Genera automÃ¡ticamente un flujo de trabajo bÃ¡sico en `.github/workflows/ci.yml`, listo para ejecutar tus pruebas en cada push o pull request.

Aunque aÃºn no lo aprovecharemos, tener este archivo configurado desde el inicio facilita adoptar buenas prÃ¡cticas mÃ¡s adelante.

:::

## âš–ï¸ Paso 4: Elegir una licencia

Durante el proceso de creaciÃ³n de la gema, Bundler ofrece aÃ±adir una licencia de uso abierta para tu cÃ³digo:

```plaintext
Do you want to license your code permissively under the MIT license?
This means that any other developer or company will be legally allowed to use your code for free as long as they admit you created it. You can read more about the MIT license at https://choosealicense.com/licenses/mit.
y/(n):
```

:::info Â¿QuÃ© significa esto?

Si eliges **"y"**, Bundler agregarÃ¡ la licencia MIT a tu proyecto. Esta es una licencia permisiva que permite el uso, modificaciÃ³n y redistribuciÃ³n del cÃ³digo con muy pocas restricciones, siempre que se mantenga el aviso de autorÃ­a.

:::

:::tip Â¿Y si uso otra licencia?

En nuestro caso, preferimos la **[BSD-2-Clause](https://opensource.org/license/bsd-2-clause/)**, una licencia tambiÃ©n permisiva pero con un lenguaje mÃ¡s conciso y restricciones mÃ­nimas.

Puedes omitir la opciÃ³n (`n`) aquÃ­ y luego aÃ±adir manualmente el archivo `LICENSE` y el campo `license` en el `.gemspec`.

:::

## ğŸ¤ Paso 5: CÃ³digo de conducta

Durante la creaciÃ³n de la gema, Bundler te preguntarÃ¡ si deseas incluir un **cÃ³digo de conducta**:

```plaintext
Do you want to include a code of conduct in gems you generate?
Codes of conduct can increase contributions to your project by contributors who prefer collaborative, safe spaces. You can read more about the code of conduct at contributor-covenant.org. Having a code of conduct means agreeing to the responsibility of enforcing it, so be sure that you are prepared to do that.
y/(n):
```

:::tip Buenas prÃ¡cticas

Incluir un cÃ³digo de conducta como el de [Contributor Covenant](https://www.contributor-covenant.org/) es una forma de **fomentar la colaboraciÃ³n en un entorno respetuoso y seguro**.

No lo usaremos activamente en esta unidad, pero es una buena costumbre para proyectos abiertos o colaborativos. Si eliges `yes`, asegÃºrate de especificar un email de contacto vÃ¡lido.

:::

## ğŸ—’ï¸ Paso 6: Changelog

Durante la creaciÃ³n de la gema, Bundler te preguntarÃ¡ si deseas incluir un **changelog**:

```plaintext
Do you want to include a changelog?
A changelog is a file which contains a curated, chronologically ordered list of notable changes for each version of a project. [...]
see https://keepachangelog.com
y/(n):
```

:::tip Cambios transparentes

Un changelog permite documentar los **cambios relevantes entre versiones** de forma clara y cronolÃ³gica. Esto facilita que otras personas (y tÃº misma en el futuro) entiendan quÃ© ha cambiado, por quÃ© y cuÃ¡ndo.

Elegir `yes` genera un archivo `CHANGELOG.md` con una estructura recomendada por [Keep a Changelog](https://keepachangelog.com), que podrÃ¡s completar a medida que avances con tu proyecto.

:::

## ğŸ§¹ Paso 7: AÃ±adir un Linter

Al crear la gema, Bundler preguntarÃ¡ si deseas agregar un **linter y formateador de cÃ³digo**:

```plaintext
Do you want to add a code linter and formatter to your gem? Supported Linters:
* RuboCop:       https://rubocop.org
* Standard:      https://github.com/standardrb/standard

Future `bundle gem` calls will use your choice. This setting can be changed anytime with `bundle config gem.linter`.
Enter a linter. rubocop/standard/(none): rubocop
```

:::tip CÃ³digo limpio desde el principio

Elegimos `rubocop` como linter para el proyecto. Es una herramienta muy utilizada en la comunidad Ruby que **fuerza buenas prÃ¡cticas** y ayuda a mantener un estilo de cÃ³digo uniforme.

Aunque no es obligatorio, tener un linter desde el inicio **previene errores comunes**, mejora la legibilidad y facilita el trabajo colaborativo en proyectos mÃ¡s grandes.

:::

## ğŸ—‚ Estructura del proyecto

```mermaid
graph LR
    root["ğŸ“‚ echo_app_ruby"]

    %% Archivos raÃ­z
    root --> gemspec["ğŸ“„ echo_app_ruby.gemspec"]
    root --> gemfile["ğŸ“„ Gemfile"]
    root --> rakefile["ğŸ“„ Rakefile"]
    root --> readme["ğŸ“„ README.md"]
    root --> coc["ğŸ“„ CODE_OF_CONDUCT.md"]
    root --> rspec["ğŸ“„ .rspec"]
    root --> rubocop["ğŸ“„ .rubocop.yml"]
    root --> gitignore["ğŸ“„ .gitignore"]

    %% .github
    subgraph github["ğŸ“ .github"]
        subgraph workflows["ğŸ“ workflows"]
            mainwf["ğŸ“„ main.yml"]
        end
    end
    root --> github

    %% bin
    subgraph bin["ğŸ“ bin"]
        console["ğŸ“„ console"]
        setup["ğŸ“„ setup"]
    end
    root --> bin

    %% exe
    subgraph exe["ğŸ“ exe"]
        execfile["ğŸ“„ echo_app_ruby"]
    end
    root --> exe

    %% lib
    subgraph lib["ğŸ“ lib"]
        libfile["ğŸ“„ echo_app_ruby.rb"]
        subgraph libinner["ğŸ“ echo_app_ruby"]
            version["ğŸ“„ version.rb"]
        end
    end
    root --> lib

    %% sig
    subgraph sig["ğŸ“ sig"]
        sigfile["ğŸ“„ echo_app_ruby.rbs"]
    end
    root --> sig

    %% spec
    subgraph spec["ğŸ“ spec"]
        helper["ğŸ“„ spec_helper.rb"]
        testfile["ğŸ“„ echo_app_ruby_spec.rb"]
    end
    root --> spec
```

:::info ExplicaciÃ³n de la estructura

Esta es la estructura generada automÃ¡ticamente por `bundler gem echo_app_ruby --exe`, pensada para desarrollar una **gema Ruby** lista para pruebas, publicaciÃ³n y uso como ejecutable de consola:

- **ğŸ“„ `echo_app_ruby.gemspec`**: Archivo principal que define los metadatos de la gema (nombre, versiÃ³n, dependencias, etc.).
- **ğŸ“„ `Gemfile`**: Lista de dependencias necesarias para desarrollar o probar la gema.
- **ğŸ“„ `Rakefile`**: Define tareas automatizadas (como pruebas, limpieza, instalaciÃ³n, etc.) que se pueden ejecutar con `rake`.
- **ğŸ“„ `README.md`**: DocumentaciÃ³n inicial del proyecto.
- **ğŸ“„ `CODE_OF_CONDUCT.md`**: CÃ³digo de conducta del proyecto, Ãºtil si se planea recibir contribuciones de otras personas.
- **ğŸ“„ `.rspec`**: ConfiguraciÃ³n de RSpec, el framework de pruebas.
- **ğŸ“„ `.rubocop.yml`**: ConfiguraciÃ³n para el linter y formateador RuboCop.
- **ğŸ“„ `.gitignore`**: Lista de archivos que Git debe ignorar.
- ğŸ“ `.github/workflows/`: Contiene flujos de trabajo para integraciÃ³n continua (CI), como pruebas automÃ¡ticas con GitHub Actions (`main.yml`).
- ğŸ“ `bin/`: Contiene scripts de desarrollo:
    - **`console`**: Permite iniciar una consola interactiva para explorar la gema.
    - **`setup`**: Script para instalar dependencias y preparar el entorno.
- ğŸ“ `exe/`: Contiene el archivo ejecutable que permite usar la gema desde la lÃ­nea de comandos:
    - **`echo_app_ruby`**: Archivo invocable si se instala como binario.
- ğŸ“ `lib/`: Contiene el cÃ³digo fuente principal de la gema:
    - **`echo_app_ruby.rb`**: Punto de entrada principal que carga el resto de la gema.
    - **`echo_app_ruby/version.rb`**: Define la versiÃ³n actual de la gema.
- ğŸ“ `sig/`: Contiene definiciones de tipos en formato RBS (Ruby Signature), si usas tipado estÃ¡tico con herramientas como [Steep](https://github.com/soutaro/steep).
- ğŸ“ `spec/`: Contiene las pruebas escritas con RSpec:
    - **`spec_helper.rb`**: ConfiguraciÃ³n inicial de RSpec.
    - **`echo_app_ruby_spec.rb`**: Archivo de prueba para el comportamiento principal de la gema.

:::

{/* TODO: Hello, world */}
