---
title: Creando un Proyecto C++ B√°sico con CMake
---
import ReadingTime from '@site/src/components/reading-time/ReadingTime';

import { ProCons, Pros, Cons } from '@site/src/components/cajitas/ProCons'
import BoxedTabs, { TabItem } from '@site/src/components/cajitas/BoxedTabs';

import RepoLinks from '@site/src/components/git/RepoLinks';
import GitLabRepo from '@site/src/components/git/GitLabRepo';
import GitHubRepo from '@site/src/components/git/GitHubRepo';

import InstallCmakeDependenciesWindows from '@site/src/components/mdx/build-systems/init/cmake/InstallCmakeDependenciesWindows';
import InstallCmakeDependenciesMac from '@site/src/components/mdx/build-systems/init/cmake/InstallCmakeDependenciesMac';
import InstallCmakeDependenciesDebian from '@site/src/components/mdx/build-systems/init/cmake/InstallCmakeDependenciesDebian';
import InitializeCmakeProjectWindows from '@site/src/components/mdx/build-systems/init/cmake/InitializeCmakeProjectWindows';
import InitializeCmakeProjectSh from '@site/src/components/mdx/build-systems/init/cmake/InitializeCmakeProjectSh';

import TODO from '@site/src/components/utils/TODO';

import Figure from '@site/src/components/Figure/Figure';
import { FigureCounterProvider } from '@site/src/components/Figure/FigureCounter';

import ReferenceList from '@site/src/components/references/ReferenceList';
import WebPage from '@site/src/components/references/WebPage';

import OfficialDocumentation from '@site/src/components/Tooltip/OfficialDocumentation';

<ReadingTime multiplier={2} />
<RepoLinks children={[
  <GitLabRepo user="r8vnhill" repo="echo-app-cmake" />,
  <GitHubRepo user="r8vnhill" repo="echo-app-cmake" />
]}/>

<FigureCounterProvider>

{/* #region Introducci√≥n */}
<section title="Introducci√≥n">

CMake se ha convertido en el est√°ndar de facto para configurar, compilar y mantener proyectos C++ portables. A diferencia de herramientas m√°s antiguas como Make, CMake permite abstraer detalles del sistema operativo o compilador, lo que facilita la colaboraci√≥n en equipos que trabajan en distintos entornos.

Esta lecci√≥n te guiar√° paso a paso para crear un proyecto b√°sico en C++ utilizando CMake y otras herramientas modernas como Clang y Ninja. Aprender√°s a estructurar un proyecto desde cero, configurar su archivo `CMakeLists.txt` inicial y verificar que todo est√© listo para compilar.

Aunque este ejemplo es sencillo, sienta las bases para escalar hacia proyectos m√°s complejos que integren bibliotecas, m√∫ltiples m√≥dulos, pruebas y automatizaci√≥n.

</section>
{/* #endregion Introducci√≥n */}

{/* #region Paso 0 */}
<section title="Paso 0: Instalar dependencias necesarias para CMake">

## üß∞ Paso 0: Instalar dependencias necesarias para CMake

Antes de comenzar, es importante entender qu√© herramientas vamos a instalar y por qu√©:

- **Clang (y LLVM)**: Clang es un compilador moderno para C, C++ y otros lenguajes. Forma parte del proyecto LLVM, que incluye herramientas para an√°lisis y optimizaci√≥n de c√≥digo. Es compatible con GCC y suele generar errores m√°s claros.
- **CMake**: Es un generador de builds multiplataforma. En lugar de compilar directamente, genera archivos para otros sistemas como Ninja, Make o Visual Studio. Permite definir c√≥mo se organiza un proyecto de forma declarativa y portable.
- **Ninja**: Es un sistema de construcci√≥n minimalista y muy r√°pido, que ejecuta las instrucciones generadas por herramientas como CMake. Su velocidad y simplicidad lo hacen ideal para proyectos medianos y grandes.

Estas herramientas son ampliamente utilizadas en proyectos profesionales de C++ y forman una excelente base para dise√±ar bibliotecas y aplicaciones portables.

<BoxedTabs groupId={"os"}>
  <TabItem value="Windows" label="Windows">
    <InstallCmakeDependenciesWindows />
  </TabItem>
  <TabItem value="macOS" label="macOS">
    <InstallCmakeDependenciesMac />
  </TabItem>
  <TabItem value="Ubuntu/Debian" label="Ubuntu/Debian">
    <InstallCmakeDependenciesDebian />
  </TabItem>
</BoxedTabs>

</section>
{/* #endregion Paso 0 */}

{/* #region Paso 1 */}
<section title="Paso 1: Crear la estructura del proyecto">

## üìÅ Paso 1: Crear la estructura del proyecto

Comencemos creando la estructura b√°sica de carpetas para nuestro proyecto C++. Este dise√±o modular facilitar√° la separaci√≥n entre el c√≥digo fuente, los archivos de configuraci√≥n y los artefactos de compilaci√≥n.

<Figure
  alt="Estructura inicial del proyecto"
  src="/img/figures/cmake/cmake_init_structure.drawio.svg"
>Estructura inicial del proyecto</Figure>

:::explanation Explicaci√≥n de la estructura

Esta estructura modular permite mantener el proyecto organizado desde el comienzo:

- **`echo_app_cmake/`** es la ra√≠z del proyecto. Contiene todo lo necesario para compilar y ejecutar la aplicaci√≥n.
  - **`CMakeLists.txt`** es el archivo principal de configuraci√≥n para CMake. Define c√≥mo se construye el proyecto: qu√© archivos fuente usar, qu√© opciones de compilaci√≥n aplicar, y c√≥mo generar ejecutables o bibliotecas.
  - **`src/`** contiene el c√≥digo fuente de la aplicaci√≥n. En este ejemplo, guardamos ah√≠ `main.cpp`, el punto de entrada del programa.

Separar la configuraci√≥n (`CMakeLists.txt`) del c√≥digo (`src/`) es una buena pr√°ctica que mejora la mantenibilidad del proyecto, especialmente cuando crece o se divide en m√∫ltiples m√≥dulos.

:::

Creamos los archivos iniciales:

<BoxedTabs groupId={"os"}>
  <TabItem value="Windows" label="Windows">
    <InitializeCmakeProjectWindows />
  </TabItem>
  <TabItem value="macOS" label="macOS">
    <InitializeCmakeProjectSh os="macos" />
  </TabItem>
  <TabItem value="Ubuntu/Debian" label="Ubuntu/Debian">
    <InitializeCmakeProjectSh os="linux" />
  </TabItem>
</BoxedTabs>

</section>
{/* #endregion Paso 1 */}

{/* #region Paso 2 */}
<section title="Paso 2: Configurar CMakeLists.txt">

## ‚öôÔ∏è Paso 2: Configurar `CMakeLists.txt`

El archivo `CMakeLists.txt` le indica a CMake c√≥mo construir el proyecto. En este paso escribiremos una versi√≥n m√≠nima para compilar un archivo `main.cpp` y generar un ejecutable.

A continuaci√≥n, se muestra un archivo b√°sico compatible con m√∫ltiples plataformas y compiladores:

```cmake title="CMakeLists.txt" showLineNumbers
cmake_minimum_required(VERSION 4.0.3)
project(EchoApp)

set(CMAKE_CXX_STANDARD 23)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
```

:::explanation

Este archivo le indica a CMake c√≥mo generar los archivos de compilaci√≥n del proyecto:

- `cmake_minimum_required(...)`: Define la versi√≥n m√≠nima de CMake requerida. Esto asegura compatibilidad y evita errores si el proyecto usa caracter√≠sticas no disponibles en versiones m√°s antiguas.
- `project(EchoApp)`: Declara el nombre del proyecto. Tambi√©n inicializa variables como `PROJECT_NAME`.
- `set(CMAKE_CXX_STANDARD 23)`: Especifica que el proyecto debe compilarse usando C++23.
- `set(CMAKE_CXX_STANDARD_REQUIRED ON)`: Asegura que se use exactamente C++23 (y no una versi√≥n anterior compatible).

:::

</section>
{/* #endregion Paso 2 */}

{/* #region Paso 3 */}
<section title="Paso 3: Verificar la configuraci√≥n de CMake">

## ‚úÖ Paso 3: Verificar la configuraci√≥n de CMake

Antes de compilar cualquier c√≥digo, es buena idea asegurarse de que el archivo `CMakeLists.txt` est√° bien escrito y que todas las rutas y variables est√°n correctamente definidas. Para eso, usaremos el comando `cmake` para generar los archivos de compilaci√≥n en una carpeta aparte (`build/`).

:::tip ¬øDebe llamarse `build`?

No necesariamente. Puedes usar cualquier nombre como `out`, `bin` o `build` para la carpeta de compilaci√≥n, pero `build` es una convenci√≥n com√∫n en la comunidad de CMake.

:::

::::exercise Comando para verificar CMake

Desde la ra√≠z del proyecto:

```bash title="Ejecuta"
cmake -S . -B build
```

:::explanation

- `-S .` le indica a CMake que el archivo `CMakeLists.txt` est√° en el directorio actual.
- `-B build` le indica que genere los archivos de compilaci√≥n en una subcarpeta llamada `build`.

:::

### ‚úîÔ∏è Resultado esperado

Si todo est√° bien, ver√°s una salida como esta:

```text
-- The C compiler identification is Clang 17.0.6
-- The CXX compiler identification is Clang 17.0.6
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Configuring done
-- Generating done
-- Build files have been written to: /ruta/a/tu/proyecto/build
```

:::danger CMake x.y.z or higher is required.

Si ves un error como `CMake x.y.z or higher is required`, significa que la versi√≥n de CMake instalada es demasiado antigua. Aseg√∫rate de haber instalado una versi√≥n compatible (4.0.3 o superior), o cambia la l√≠nea `cmake_minimum_required(VERSION 4.0.3)` en el archivo `CMakeLists.txt` a una versi√≥n que tengas instalada.

:::

::::

</section>
{/* #endregion Paso 3 */}

{/* #region Conclusiones */}
<section title="Conclusiones">
## üéØ Conclusiones

Crear un proyecto b√°sico en C++ con CMake nos permite dar los primeros pasos hacia una estructura de desarrollo m√°s profesional, portable y mantenible. Al establecer buenas pr√°cticas desde el inicio ‚Äîcomo separar el c√≥digo fuente de la configuraci√≥n, y validar la configuraci√≥n antes de compilar‚Äî sentamos las bases para construir software m√°s escalable.

Este enfoque no solo facilita la colaboraci√≥n en equipos, sino que tambi√©n simplifica el uso de herramientas avanzadas como pruebas automatizadas, integraci√≥n continua y an√°lisis est√°tico.

### üîë Puntos clave

- Instalamos herramientas esenciales: **Clang**, **CMake** y **Ninja**, que conforman una base moderna y multiplataforma para proyectos C++.
- Creamos una estructura de proyecto clara y organizada, separando c√≥digo y configuraci√≥n.
- Escribimos un archivo `CMakeLists.txt` m√≠nimo pero funcional para compilar un ejecutable.
- Verificamos que la configuraci√≥n del proyecto fuera correcta antes de compilar.

### üß∞ ¬øQu√© nos llevamos?

Despu√©s de esta lecci√≥n, ya puedes:

‚úÖ Configurar un entorno moderno para desarrollar en C++  
‚úÖ Crear un proyecto base con estructura clara y reutilizable  
‚úÖ Escribir y validar configuraciones iniciales de CMake

Este es solo el comienzo. En futuras lecciones aprender√°s a compilar m√∫ltiples archivos, definir bibliotecas reutilizables, manejar dependencias externas y automatizar pruebas.

</section>
{/* #endregion Conclusiones */}

{/* #region ¬øQu√© sigue? */}
<section title="¬øQu√© sigue?">
## ‚û°Ô∏è ¬øQu√© sigue?

Puedes ver todas las lecciones en [GitLab](https://gitlab.com/r8vnhill/echo-app-cmake) o [GitHub](https://github.com/r8vnhill/echo-app-cmake).

</section>
{/* #endregion ¬øQu√© sigue? */}

{/* #region Referencias */}
<section title="Referencias">

## üìñ ¬øCon ganas de m√°s?

<ReferenceList 
  title="üî• Referencias recomendadas" 
  items={[
    <WebPage
      title="CMake tutorial"
      url="https://cmake.org/cmake/help/book/mastering-cmake/cmake/Help/guide/tutorial/index.html"
      location={<OfficialDocumentation>Mastering CMake</OfficialDocumentation>}
    >
      Tutorial paso a paso que muestra c√≥mo crear y escalar un proyecto C++ con CMake: desde una configuraci√≥n m√≠nima hasta incluir bibliotecas, pruebas, instalaci√≥n y empaquetado multiplataforma. Ideal para aprender buenas pr√°cticas con <code>CMakeLists.txt</code> y herramientas modernas.
      Aunque este tutorial cubre muchos temas avanzados, es √∫til revisar al menos las primeras secciones para complementar esta lecci√≥n, que se enfoca solo en los pasos iniciales: configurar el entorno y crear la estructura del proyecto.
    </WebPage>
  ]}
/>

</section>
{/* #endregion Referencias */}

</FigureCounterProvider>
